import unittest
from selenium import webdriver
import time
from selenium.webdriver.support.select import Select # 下拉框

class MyTestCase(unittest.TestCase):
    def setUp(self):#打开谷歌浏览器 setUp
        self.borwser = webdriver.Chrome()

		

    def test_userLogin (self):   #名字前缀必须是test_
        self.borwser.get("http://localhost:8080/webpageNew/login.php")             #打开网址
        self.borwser.maximize_window() #最大化

        time.sleep(2) #等待两秒

        self.borwser.find_element_by_name("unum").send_keys("1")                    #name框输入内容
        self.borwser.find_element_by_name("uname").send_keys("admin")
        self.borwser.find_element_by_name("upwd").send_keys("123456")
        self.borwser.find_element_by_name("code").send_keys("1234")

        self.borwser.find_element_by_xpath("/html/body/form/div[3]/div[2]/div[1]/input").click()            #XP点击登录
        self.borwser.switch_to.alert.accept()#接受弹出框




















    def test_cx(self): # 查询
        self.test_userLogin()  #先登录系统
        self.borwser.find_element_by_xpath("/html/body/div[2]/div/div[1]/div[4]/a").click()  # 点击查看地点
        time.sleep(2)  #等待3秒
        Select(self.borwser.find_elements_by_css_selector(".select_gry")[1]).select_by_index(1) #选择存放地点名称
        self.borwser.find_element_by_css_selector(".input_gry").send_keys("5")
        time.sleep(3)  #等待3秒
        self.borwser.find_element_by_xpath("/html/body/div[2]/div/form/div/div[2]/div[1]/div[3]/input").click()#点击查询
        time.sleep(3)  #等待3秒















































    def test_xq(self): # 查看详情
        self.test_userLogin()  # 先登录系统
        self.borwser.find_element_by_xpath("/html/body/div[2]/div/div[1]/div[4]/a").click()  # 点击查看地点
        self.borwser.find_element_by_xpath("/html/body/div[2]/div/form/div/div[2]/div[3]/table/tbody/tr[2]/td[1]/div/a").click() # 查看详情
        time.sleep(3)  # 等待两秒
        self.borwser.find_element_by_link_text("关闭").click() # 关闭详情
        time.sleep(3)  # 等待两秒


        #日期
        js = "$('input[name=RecordedDate]').val('2020-12-12')"
        self.user.execute_script(js)



if __name__ == '__main__':
    unittest.main()


